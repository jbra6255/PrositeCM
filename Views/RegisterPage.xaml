<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="PrositeCM.Views.RegisterPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:PrositeCM.ViewModels"
    mc:Ignorable="d">

    <Page.DataContext>
        <vm:RegisterViewModel x:Name="ViewModel"/>
    </Page.DataContext>

    <Grid>
        <Grid VerticalAlignment="Center" HorizontalAlignment="Center" Width="450">
            <Grid.Shadow>
                <ThemeShadow />
            </Grid.Shadow>

            <Border CornerRadius="16"
                    Padding="40"
                    Translation="0,0,32"
                    BorderThickness="1"
                    BorderBrush="{ThemeResource SurfaceStrokeColorDefaultBrush}">

                <Border.Background>
                    <AcrylicBrush TintColor="{ThemeResource SolidBackgroundFillColorBase}"
                                  FallbackColor="{ThemeResource SolidBackgroundFillColorBase}"
                                  TintOpacity="0.8"
                                  TintLuminosityOpacity="0.9" />
                </Border.Background>

                <StackPanel Spacing="20">

                    <StackPanel Spacing="8" HorizontalAlignment="Center">
                        <FontIcon Glyph="&#xE77B;" 
                                  FontFamily="Segoe Fluent Icons"
                                  FontSize="40"
                                  Foreground="{ThemeResource AccentFillColorDefaultBrush}"
                                  Margin="0,0,0,5"/>

                        <TextBlock Text="Create Account"
                                   Style="{StaticResource TitleTextBlockStyle}"
                                   HorizontalAlignment="Center"/>

                        <TextBlock Text="Join PrositeCM today"
                                   Style="{StaticResource CaptionTextBlockStyle}"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                   HorizontalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Spacing="12">
                        <TextBox Header="Email"
                                 PlaceholderText="name@example.com"
                                 Text="{Binding Email, Mode=TwoWay}"
                                 CornerRadius="8" />

                        <PasswordBox x:Name="RegisterPasswordBox"
                                     Header="Password"
                                     PlaceholderText="Create a password"
                                     PasswordChanged="RegisterPasswordBox_PasswordChanged"
                                     CornerRadius="8" />

                        <Grid ColumnDefinitions="*,*" ColumnSpacing="12">
                            <TextBox Grid.Column="0" 
                                     Header="Company"
                                     PlaceholderText="Company Name"
                                     Text="{Binding Company, Mode=TwoWay}"
                                     CornerRadius="8"/>

                            <TextBox Grid.Column="1" 
                                     Header="Position"
                                     PlaceholderText="Job Title"
                                     Text="{Binding Position, Mode=TwoWay}"
                                     CornerRadius="8"/>
                        </Grid>

                        <Grid Height="20">
                            <TextBlock Text="{Binding ErrorMessage}"
                                       Foreground="{ThemeResource SystemFillColorCriticalBrush}"
                                       FontSize="12"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"/>
                        </Grid>
                    </StackPanel>

                    <StackPanel Spacing="12">
                        <Button Command="{Binding RegisterCommand}"
                                HorizontalAlignment="Stretch"
                                Height="45"
                                CornerRadius="22"
                                BorderThickness="0">
                            <Button.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#4A90E2" Offset="0.0"/>
                                    <GradientStop Color="#357ABD" Offset="1.0"/>
                                </LinearGradientBrush>
                            </Button.Background>
                            <TextBlock Text="Sign Up"
                                       Foreground="White"
                                       FontWeight="SemiBold"
                                       FontSize="16"/>
                        </Button>

                        <HyperlinkButton Content="Already have an account? Log in"
                                         Command="{Binding GoBackCommand}"
                                         HorizontalAlignment="Center"
                                         Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>
                    </StackPanel>

                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Page>
